{"version":3,"file":"pulling-drawer.js","sources":["../src/util.ts","../src/pulling.ts","../src/touch.ts","../src/drawer.ts","../src/drawer-only.ts"],"sourcesContent":["export function assertArg(condition: any, message: string) {\n  if (!condition) {\n    throw TypeError(`Invalid arguments: ${message}`);\n  }\n}\n\nexport function polyfill() {\n  Element.prototype.matches = Element.prototype.matches ||\n    // @ts-ignore: Property does not exist\n    Element.prototype.matchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    // @ts-ignore: Property does not exist\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    // @ts-ignore: Property does not exist\n    Element.prototype.oMatchesSelector;\n\n  Object.entries = Object.entries || ((obj: any) => {\n    return Object.keys(obj).map(key => [key, obj[key]]);\n  });\n\n  Object.values = Object.values || ((obj: any) => {\n    return Object.keys(obj).map(key => obj[key]);\n  });\n\n  Object.assign = Object.assign || ((first: any, ...objects: any[]) => {\n    for (const obj of objects) {\n      for (const [key, val] of Object.entries(obj)) {\n        first[key] = val;\n      }\n    }\n\n    return first;\n  });\n\n  Array.prototype.includes = function includes(value) {\n    return this.indexOf(value) !== -1;\n  };\n}\n","import { assertArg } from './util';\n\nconst timingFunctions: timingFunctions[] = [\n  'linear', 'ease', 'ease-in', 'ease-out',\n  'ease-in-out', 'step-start', 'step-end',\n];\n\nexport default class Pulling {\n  static modes: {\n    [key: string]: typeof Pulling;\n  } = {};\n\n  static create(options: Options) {\n    const mode = options.mode || Object.keys(Pulling.modes)[0] || 'drawer';\n    if (!Pulling.modes[mode]) {\n      const modes = Object.keys(Pulling.modes).map(x => `\"${x}\"`).join(', ');\n      throw TypeError(`${'`mode`'} must be one of ${modes}`);\n    }\n\n    return new Pulling.modes[mode](options);\n  }\n\n  protected menu: HTMLElement;\n  protected panel: HTMLElement;\n  protected side: sides;\n  protected mode: modes;\n  protected margin: number;\n  protected timing: number;\n  protected timingFunction: timingFunctions;\n  protected width: number;\n  protected sensitivity: number;\n  protected slope: number;\n  \n  protected styles: Styles = {\n    base: {\n      menu: {},\n      panel: {},\n    },\n    open: {\n      menu: {},\n      panel: {},\n    },\n    closed: {\n      menu: {},\n      panel: {},\n    },\n  };\n\n  protected constructor(options: Options) {\n    if (!Object.values(Pulling.modes).some(x => this instanceof x)) {\n      throw TypeError(\n        'Calling this constructor is not allowed. ' +\n        'Use `Pulling.create` instead',\n      );\n    }\n\n    const {\n      menu,\n      panel,\n      side,\n      mode,\n      margin,\n      timing,\n      timingFunction,\n      width,\n      sensitivity,\n      slope,\n      touch,\n    } = options;\n\n    this.menu = menu;\n    this.panel = panel;\n    this.side = side || 'left';\n    this.mode = mode || 'drawer';\n    this.margin = margin || 25,\n    this.timing = timing || 200;\n    this.timingFunction = timingFunction || 'ease';\n    this.width = width || 256;\n    this.sensitivity = sensitivity || 0.25;\n    this.slope = slope || 0.5;\n\n    assertArg(\n      this.menu instanceof Element, \n      '`menu` must be of type `Element`',\n    );\n    assertArg(\n      this.panel instanceof Element, \n      '`panel` must be of type `Element`',\n    );\n    assertArg(\n      this.side === 'left' || this.side === 'right', \n      '`side` must be equal to \"left\" or \"right\"',\n    );\n    assertArg(\n      typeof this.margin === 'number',\n      '`margin` must be of type \"number\"',\n    );\n    assertArg(\n      typeof this.timing === 'number',\n      '`timing` must be of type \"number\"',\n    );\n    assertArg(\n      timingFunctions.includes(this.timingFunction),\n      `${'`timingFunction`'} must be one of ${timingFunctions.map(x => `\"${x}\"`).join(', ')}`,\n    );\n    assertArg(\n      typeof this.width === 'number',\n      '`width` must be of type \"number\"',\n    );\n    assertArg(\n      typeof this.sensitivity === 'number',\n      '`sensitivity` must be of type \"number\"',\n    );\n    assertArg(\n      typeof this.slope === 'number',\n      '`slope` must be of type \"number\"',\n    );\n  }\n\n  protected handlers: {\n    beforeclose: Function[],\n    closed: Function[],\n    beforeopen: Function[],\n    opened: Function[],\n    touchstart: Function[],\n    touchmove: Function[],\n    touchend: Function[],\n  } = {\n    beforeclose: [],\n    closed: [],\n    beforeopen: [],\n    opened: [],\n    touchstart: [],\n    touchmove: [],\n    touchend: [],\n  };\n\n  /** Trigger event listeners for the event */\n  protected emit(eventName: eventNames, e?: Event) {\n    this.handlers[eventName].forEach(handler => handler.call(this, e));\n  }\n\n  /** Add an event handler for the event */\n  on(eventName: eventNames, handler: Function) {\n    this.handlers[eventName].push(handler);\n    return this;\n  }\n\n  /** Remove all event handlers for an event */\n  off(eventName: eventNames, handler?: Function) {\n    if (handler) {\n      this.handlers[eventName] = this.handlers[eventName].filter((handle) => {\n        return handle !== handler;\n      });\n    } else {\n      this.handlers[eventName] = [];\n    }\n    return this;\n  }\n\n  state = {\n    opened: false,\n    opening: false,\n    closed: true,\n    closing: false,\n  };\n\n  /** Open the menu */\n  open(e?: Event) {\n    this.emit('beforeopen', e);\n    if (this.disabled) {\n      return this;\n    }\n\n    if (this.state.opened) {\n      return this;\n    }\n\n    this.state.closed = false;\n    this.state.closing = false;\n    this.state.opening = true;\n    this.state.opened = false;\n\n    const offset = this.offset();\n    if (offset > 0) {\n      const duration = `${this.timing * (1 - offset / this.width)}ms`;\n      \n      this.menu.style.transitionDuration = duration;\n      this.panel.style.transitionDuration = duration;\n    }\n\n    Object.assign(this.menu.style, this.styles.open.menu);\n    Object.assign(this.panel.style, this.styles.open.panel);\n\n    const after = () => {\n      this.state.opening = false;\n      this.state.opened = true;\n\n      Object.assign(this.menu.style, this.styles.open.menu);\n      Object.assign(this.panel.style, this.styles.open.panel);\n      \n      this.emit('opened');\n    };\n    if (offset === this.width) {\n      after();\n    } else {\n      this.afterTransitionend(after);\n    }\n\n    return this;\n  }\n\n  /** Close the menu */\n  close(e?: Event) {\n    this.emit('beforeclose', e);\n    if (this.disabled) {\n      return this;\n    }\n\n    if (this.state.closed) {\n      this.state.closing = false;\n      return this;\n    }\n\n    this.state.closed = false;\n    this.state.closing = true;\n    this.state.opening = false;\n    this.state.opened = false;\n\n    const offset = this.offset();\n    if (offset > 0) {\n      const duration = `${this.timing * offset / this.width}ms`;\n      \n      this.menu.style.transitionDuration = duration;\n      this.panel.style.transitionDuration = duration;\n    }\n    \n    Object.assign(this.menu.style, this.styles.closed.menu);\n    Object.assign(this.panel.style, this.styles.closed.panel);\n\n    const after = () => {\n      this.state.closing = false;\n      this.state.closed = true;\n\n      Object.assign(this.menu.style, this.styles.closed.menu);\n      Object.assign(this.panel.style, this.styles.closed.panel);\n      \n      this.emit('closed');\n    };\n    if (offset === 0) {\n      after();\n    } else {\n      this.afterTransitionend(after);\n    }\n\n    return this;\n  }\n  \n  toggle(condition: boolean) {\n    if (condition === true) {\n      this.open();\n    } else if (condition === false) {\n      this.close();\n    } else {\n      this.toggle(this.state.closed || this.state.closing);\n    }\n    return this;\n  }\n\n  protected disabled = false;\n\n  /** Disable the menu functionality */\n  disable() {\n    this.disabled = true;\n    return this;\n  }\n\n  /** Enabled to menu functionality */\n  enable() {\n    this.disabled = false;\n    return this;\n  }\n\n  protected afterTransitionend(callback: Function) {}\n\n  /** get offset from the default (closed) position */\n  protected offset() {\n    return 0;\n  }\n}\n","import Pulling from './pulling';\n\nexport default class TouchPulling extends Pulling {\n  constructor(options: Options) {\n    super(options);\n\n    this.touch = options.touch !== false;\n    \n    if (this.touch) {\n      this.addTouchEvents();\n    }\n  }\n  protected touch: boolean;\n  \n  protected touched = false;\n  \n  /** set offset */\n  protected applyOffset(offset: number) {}\n\n  protected initTouchEvents() {\n    const { width, margin, side, slope, sensitivity, menu, panel } = this;\n\n    const sign = (side === 'left' ? 1 : -1);\n\n    let startClientX = 0;\n    let startClientY = 0;\n\n    let lastClientX = 0;\n\n    let startOffset = 0;\n\n    let prevTime = 0;\n    let lastTime = 0;\n\n    let prevClientX = 0;\n\n    let firstMove = false;\n\n    const onTouchstart = (e: TouchEvent) => {\n      if (this.ignoreSelector && (e.target as HTMLElement).matches(this.ignoreSelector)) {\n        return;\n      }\n\n      this.emit('touchstart', e);\n      if (this.disabled) {\n        return;\n      }\n\n      this.touched = false;\n      if (e.touches.length !== 1) {\n        return;\n      }\n      \n      const { clientX, clientY } = e.touches[0];\n      const offset = this.offset();\n      const region = margin + offset;\n      \n      if (side === 'left' && clientX <= region ||\n        side === 'right' && window.innerWidth - clientX <= region) {\n        this.touched = true;\n\n        startClientX = clientX;\n        startClientY = clientY;\n\n        lastClientX = clientX;\n        \n        startOffset = offset;\n\n        lastTime = Date.now();\n        \n        firstMove = true;\n      }\n    };\n\n    const onTouchmove = (e: TouchEvent) => {\n      this.emit('touchmove', e);\n\n      if (this.disabled || !this.touched) {\n        return;\n      }\n\n      const { clientX, clientY } = e.touches[0];\n      const diffX = (clientX - startClientX) * sign;\n      \n      if (Math.abs(diffX) < 10) {\n        return;\n      }\n      \n      if (firstMove) {\n        const diffY = clientY - startClientY;\n        const currentSlope = Math.abs(diffY / diffX);\n        if (currentSlope > slope) {\n          this.touched = false;\n          return;\n        }\n        \n        if (this.state.closed && diffX > 0) {\n          this.emit('beforeopen');\n        } else if (this.state.opened) {\n          this.emit('beforeopen');\n        }\n\n        menu.style.transition = null;\n        panel.style.transition = null;\n      }\n\n      if (this.state.opened && diffX > 0 || this.state.closed && diffX < 0) {\n        lastClientX = clientX;\n        lastTime = Date.now();\n\n        return;\n      }\n\n      this.state.opened = false;\n      this.state.closed = false;\n\n      const dx = (clientX - lastClientX) * sign;\n      \n      const opening = dx > 0;\n      this.state.opening = opening;\n      this.state.closing = !opening;\n\n      const offset = Math.min(Math.max(0, startOffset + diffX), width);\n      this.applyOffset(offset);\n\n      prevClientX = lastClientX;\n      lastClientX = clientX;\n\n      prevTime = lastTime;\n      lastTime = Date.now();\n      firstMove = false;\n    };\n\n    const onTouchend = (e: TouchEvent) => {\n      if (!this.touched) {\n        return;\n      }\n\n      this.touched = false;\n      if (firstMove) {\n        return;\n      }\n\n      this.emit('touchend', e);\n      \n      Object.assign(this.panel.style, this.styles.base.panel);\n      Object.assign(this.menu.style, this.styles.base.menu);\n\n      const offset = this.offset();\n      const { clientX } = e.changedTouches[0];\n      \n      let x1;\n      let t1;\n\n      if (clientX === lastClientX) {\n        x1 = prevClientX;\n        t1 = prevTime;\n      } else {\n        x1 = lastClientX;\n        t1 = lastTime;\n      }\n\n      const x2 = clientX;\n      const t2 = Date.now();\n\n      const speed = (x2 - x1) / (t2 - t1) * sign;\n\n      if (\n        offset > width / 2 && \n        speed > -sensitivity || \n        speed > sensitivity\n      ) {\n        this.open(e);\n      } else {\n        this.close(e);\n      }\n    };\n\n    return {\n      onTouchstart,\n      onTouchmove,\n      onTouchend,\n    };\n  }\n  protected touchEvents: {\n    onTouchstart(e: TouchEvent): void,\n    onTouchmove(e: TouchEvent): void,\n    onTouchend(e: TouchEvent): void,\n  };\n  protected addTouchEvents() {\n    if (!this.touchEvents) {\n      this.touchEvents = this.initTouchEvents();\n    }\n    document.documentElement.addEventListener('touchstart', this.touchEvents.onTouchstart, false);\n    document.documentElement.addEventListener('touchmove', this.touchEvents.onTouchmove, false);\n    document.documentElement.addEventListener('touchend', this.touchEvents.onTouchend, false);\n  }\n  protected removeTouchEvents() {\n    document.documentElement.removeEventListener('touchstart', this.touchEvents.onTouchstart);\n    document.documentElement.removeEventListener('touchmove', this.touchEvents.onTouchmove);\n    document.documentElement.removeEventListener('touchend', this.touchEvents.onTouchend);\n  }\n\n  protected ignores: string[] = [];\n  protected ignoreSelector: string = '';\n\n  /** Ignore touch events from elements matching a given selector */\n  ignore(selector: string) {\n    this.ignores.push(selector);\n    this.ignoreSelector = this.ignores.join(', ');\n    return this; \n  }\n  /** \n   * Remove selector from ignore list\n   * _Does not_ override `ignore`\n   */\n  unignore(selector: string) {\n    this.ignores = this.ignores.filter(s => s !== selector);\n    this.ignoreSelector = this.ignores.join(', ');\n    return this;\n  }\n\n  /** enable touch functionality */\n  enableTouch() {\n    if (!this.touch) {\n      this.addTouchEvents();\n      this.touch = true;\n    }\n    return this;\n  }\n\n  /** disable touch functionality */\n  disableTouch() {\n    if (this.touch) {\n      this.removeTouchEvents();\n      this.touch = false;\n    }\n    return this;\n  }\n}\n","import TouchPulling from './touch';\n\nexport default class Drawer extends TouchPulling {\n  constructor(options: Options) {\n    super(options);\n\n    this.styles.base.menu = {\n      transition: `transform ${this.timing}ms ${this.timingFunction}`,\n      \n      overflowX: 'hidden',\n      overflowY: 'auto',\n\n      position: 'fixed',\n      [this.side]: `-${this.width}px`,\n      top: '0',\n      bottom: '0',\n      width: `${this.width}px`,\n\n      zIndex: '1',\n    };\n    this.styles.open.menu = {\n      transform: `translateX(${this.side === 'right' ? '-' : ''}${this.width}px)`,\n    };\n    this.styles.closed.menu = {\n      transform: `translateX(0)`,\n    };\n\n    Object.assign(this.menu.style, this.styles.base.menu, this.styles.closed.menu);\n    Object.assign(this.panel.style, this.styles.base.panel, this.styles.closed.panel);\n\n    this.initTransitionend();\n  }\n\n  protected offset() {\n    const menuPos = this.menu.getBoundingClientRect();\n    if (this.side === 'left') {\n      return menuPos.left + this.width;\n    }\n    return window.innerWidth - menuPos.left;\n  }\n\n  protected applyOffset(offset: number) {\n    const sign = (this.side === 'left' ? 1 : -1);\n    this.menu.style.transform = `translateX(${offset * sign}px)`;\n  }\n\n  private onTransitionend: Function | null;\n\n  protected afterTransitionend(callback: Function) {\n    this.onTransitionend = callback;\n  }\n\n  private initTransitionend() {\n    this.menu.addEventListener('transitionend', () => {\n      if (this.onTransitionend) {\n        this.onTransitionend();\n      }\n\n      this.onTransitionend = null;\n    }, false);\n  }\n}\n\nTouchPulling.modes['drawer'] = Drawer;\n","import { polyfill } from './util';\npolyfill();\n\nimport TouchPulling from './touch';\nimport './drawer';\n\nexport default TouchPulling;\n"],"names":["TouchPulling"],"mappings":"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"}